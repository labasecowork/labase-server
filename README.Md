üìò Grupo Aguirre Backend ‚Äì Developer Documentation
‚ú® Description

El backend gestiona reservas, citas legales, clientes y la l√≥gica central de negocio del Grupo Aguirre Abogados Per√∫.
Se basa en Node.js, Express y TypeScript, aplicando Clean Architecture con Vertical Slices para asegurar una separaci√≥n clara de responsabilidades, escalabilidad y mantenibilidad a largo plazo.

Incluye un asistente legal de WhatsApp que combina whatsapp-web.js (cliente de WhatsApp Web) con Gemini (API de Google Generative Language) para ofrecer respuestas autom√°ticas con contexto legal de Per√∫, misi√≥n, visi√≥n y servicios del estudio.

üõ† Technologies Used
-Node.js (v18 o superior)
-Express (framework web)
-TypeScript (tipado est√°tico)
-Prisma ORM (mapeo con PostgreSQL)
-Zod (validaci√≥n de datos)
-Axios (cliente HTTP)
-Socket.IO (eventos en tiempo real)
-Bcrypt (hash de contrase√±as)
-Swagger (documentaci√≥n API interactiva)
-Redis (cache y sesiones temporales)
-AWS S3 (almacenamiento de archivos)
-dayjs y date-fns (manejo de fechas)
-nanoid y uuid (identificadores √∫nicos)
-Multer (subida de archivos)
-Nodemailer (env√≠o de correos)
-dotenv (variables de entorno)
-EJS (templates de email)
-Morgan (logger HTTP)
-whatsapp-web.js (integraci√≥n WhatsApp Business con cliente local)
-qrcode-terminal (render QR para vincular WhatsApp)
-Google Gemini API (IA generativa para el chatbot legal)

‚öôÔ∏è Requirements
-Node.js v18 o superior (recomendado v20+)
-PostgreSQL (local o en Docker)
-Redis (local)
-Docker (opcional, para entornos containerizados)
-Chromium/Chrome con flags --no-sandbox (requerido por whatsapp-web.js en servidores VPS sin GUI)

üöÄ Installation and Setup
1. Clonar el repositorio
git clone <REPOSITORY_URL>
cd aguirre-service

2. Instalar dependencias
npm install

3. Configurar variables de entorno
Crea un archivo .env basado en .env.example. Incluye:

DATABASE_URL=postgresql://user:password@localhost:5432/aguirre_db
REDIS_URL=redis://localhost:6379
API_KEY_GEMINI=tu_api_key
PORT=3001
APP_URL=http://localhost:3001

4. Levantar el servidor
npm run dev

* Al iniciar, se mostrar√° en consola el QR de WhatsApp (usar c√°mara del tel√©fono para vincular) *

ü§ñ WhatsApp Bot
-Cliente: whatsapp-web.js con LocalAuth.
-IA: Google Gemini con contexto legal del Grupo Aguirre Abogados Per√∫.
-Atenci√≥n: 100% remota, sin necesidad de acudir a oficina f√≠sica.
-Flujo de citas: El bot puede recibir datos del cliente y generar citas provisionales (pendientes de confirmaci√≥n).
